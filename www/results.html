<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <title>results page</title>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <meta name="description" content="results">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/jquery-2.1.4.min.js"></script>
        <script src="js/results.js"></script>
        <script>
        alert(localStorage.getItem("results"));
            
            
        </script>
        
        

    </head>
    <body onLoad="buildHtmlTable('#excelDataTable')">
        
        <table style="width:100%" align="center">
            <tr>
                <td>Score: </td>
                <td colspan="3" id="score">0</td>
            </tr>
            <tr>
                <td onmouseup="gohome()">Home</td>
                <td onmouseup="retry()">Retry</td>
            </tr>   
        </table>
        <table id="excelDataTable" border="1"></table>
        
        
        
        
        
        
        <script>
            document.getElementById("score").innerHTML = localStorage.getItem("resultScore");
            
            
            var myList = [{"question":"2", 'answer':"2", "correct":"true"},
						{"question":"2", 'answer':"2", "correct":"true"}];
                //JSON.parse(localStorage.getItem("results"));

// Builds the HTML Table out of myList.
function buildHtmlTable(selector) {
    var columns = addAllColumnHeaders(myList, selector);

    for (var i = 0 ; i < myList.length ; i++) {
        var row$ = $('<tr/>');
        for (var colIndex = 0 ; colIndex < columns.length ; colIndex++) {
            var cellValue = myList[i][columns[colIndex]];

            if (cellValue == null) { cellValue = ""; }

            row$.append($('<td/>').html(cellValue));
        }
        $(selector).append(row$);
    }
}

// Adds a header row to the table and returns the set of columns.
// Need to do union of keys from all records as some records may not contain
// all records
function addAllColumnHeaders(myList)
{
    var columnSet = [];
    var headerTr$ = $('<tr/>');

    for (var i = 0 ; i < myList.length ; i++) {
        var rowHash = myList[i];
        for (var key in rowHash) {
            if ($.inArray(key, columnSet) == -1){
                columnSet.push(key);
                headerTr$.append($('<th/>').html(key));
            }
        }
    }
    $(selector).append(headerTr$);

    return columnSet;
}
            
        </script>
    </body>
</html>